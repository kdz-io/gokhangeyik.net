document.addEventListener("DOMContentLoaded",function(){const t=document.querySelectorAll(".blur-load");function e(e){const t=e.querySelector(".full");function n(){console.log("Image loaded"),t.classList.add("loaded")}t.complete?(console.log("Image already complete"),n()):t.addEventListener("load",n)}t.forEach(t=>{e(t)});const n=new MutationObserver(t=>{t.forEach(t=>{if(t.addedNodes.length){const t=document.querySelectorAll(".blur-load");t.forEach(t=>{t.querySelector(".full.loaded")||e(t)})}})});n.observe(document.body,{childList:!0,subtree:!0})}),document.addEventListener("DOMContentLoaded",function(){"use strict";const n=document.querySelector(".header"),w=n.offsetTop,a=function(){window.scrollY>w?n.classList.add("header--sticky"):n.classList.remove("header--sticky")},r=function(){window.addEventListener("scroll",a)},_=function(){window.removeEventListener("scroll",a)};r();const s=document.querySelector("html"),b=document.querySelector(".nav__icon-menu"),v=document.querySelector(".nav__icon-close"),l=document.querySelector(".main-nav"),f=document.querySelector(".nav__icon-search"),h=document.querySelector(".search__close"),i=document.querySelector(".search"),O=document.querySelector(".search__box"),d=document.querySelector(".toggle-theme"),m=document.querySelector(".search__text"),o=document.querySelector(".top");b.addEventListener("click",()=>{p()}),v.addEventListener("click",()=>{g()}),f.addEventListener("click",()=>{u()}),h.addEventListener("click",()=>{c()});function p(){_(),n.classList.remove("header--sticky"),l.classList.add("is-open")}function g(){l.classList.remove("is-open"),n.classList.add("header--sticky"),r()}function u(){i.classList.add("is-visible"),setTimeout(function(){m.focus()},150)}function c(){i.classList.remove("is-visible")}document.addEventListener("keydown",function(e){e.key=="Escape"&&c()}),d&&d.addEventListener("click",()=>{j()});function j(){s.classList.contains("dark-mode")?(s.classList.remove("dark-mode"),localStorage.removeItem("theme"),document.documentElement.removeAttribute("dark")):(s.classList.add("dark-mode"),localStorage.setItem("theme","dark"),document.documentElement.setAttribute("dark",""))}reframe(".post__content iframe:not(.reframe-off), .page__content iframe:not(.reframe-off)");const y=document.querySelector(".page__content img, .post__content img"),t=document.querySelectorAll(".page__content a img, .post__content a img");if(t){for(var e=0;e<t.length;e++)t[e].parentNode.classList.add("image-link");for(e=0;e<t.length;e++)t[e].classList.add("no-lightense")}y&&Lightense(".page__content img:not(.no-lightense), .post__content img:not(.no-lightense)",{padding:60,offset:30}),window.addEventListener("scroll",function(){window.scrollY>window.innerHeight?o.classList.add("is-active"):o.classList.remove("is-active")}),o.addEventListener("click",function(){window.scrollY!=0&&window.scrollTo({top:0,left:0,behavior:"smooth"})})})